
<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Intro</title><link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}"></head><body class="center"><div class="card"><h1>Welcome Detective</h1><p id="loadingText">Loading... <span id="spinner">‚è≥</span></p><audio id="intro" preload="auto" src="{{ url_for('static', filename='audio/intro.mp3') }}"></audio></div><script>const intro=document.getElementById('intro');const loadingText=document.getElementById('loadingText');intro.addEventListener('ended',async()=>{loadingText.textContent='Intro finished. Preparing game...';const r=await fetch('/start_session',{method:'POST'});const j=await r.json();if(j.ok){localStorage.setItem('detective_started',j.start_time*1000);setTimeout(()=> window.location = '/game', 600);}else{alert('Failed to start session: '+ (j.error||''));}});intro.play().catch(()=>{loadingText.textContent='Tap to play intro...'; document.addEventListener('click', ()=> intro.play(), {once:true}); });</script></body></html>